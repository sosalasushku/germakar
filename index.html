<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Макар и Германа</title>
</head>
<body>
    <section class="video_container">
        <video autoplay muted class="video">
            <source src="assets/media/video.webm" type="video/webm">
        </video>
        <div class="welcome_text">
            <p>Уже совсем скоро</p>
            <p>мы женимся!</p>
        </div>
    </section>
    <section class="timer">
        <div class="timer_days">
            <div id="days-count"></div>
            <div id="days-label"></div>
        </div>
        <div class="time_label">и</div>
        <div class="timer_time">
            <span id="hours"></span>:<span id="minutes"></span>:<span id="seconds"></span>
        </div>
    </section>
    <script>
        const updateTimer = () => {
            const daysCount = document.getElementById('days-count')
            const daysLabel = document.getElementById('days-label')
            const hours = document.getElementById('hours')
            const minutes = document.getElementById('minutes')
            const seconds = document.getElementById('seconds')
            const currentDate = new Date()
            const dateOfWedding = new Date(2024, 7, 4, 15)
            let milisecondsLeft = dateOfWedding - currentDate
            let daysLeft = Math.trunc(milisecondsLeft / 86400000)
            let hoursLeft = Math.trunc(((milisecondsLeft) % 86400000) / 3600000)
            let minutesLeft = Math.trunc((milisecondsLeft - daysLeft * 86400000 - hoursLeft * 3600000)/60000)
            let secondsLeft = Math.trunc(Math.trunc((milisecondsLeft - daysLeft * 86400000 - hoursLeft * 3600000 - minutesLeft * 60000) / 1000))
            daysCount.innerText = daysLeft
            daysLabel.innerText = String(daysLeft).slice(-1) === '1' ? 'день' : 
                ['2','3','4'].includes(String(daysLeft).slice(-1)) ? 'дня' : 'дней'
            hours.innerText = ('0' + hoursLeft).slice(-2)
            minutes.innerText = ('0' + minutesLeft).slice(-2)
            seconds.innerText = ('0' + secondsLeft).slice(-2)
        }
        
        setInterval(updateTimer, 1000)
    </script>
</body>
</html>